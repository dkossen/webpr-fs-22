<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
</head>
<body>

<script src="../observable/observable.js"></script>

<script>

    // Assignment: map/filter/reduce refresher (5 Pts)

    /* Implement a function named 'palindrome' that tells whether a given string is the same when read
    left-to-right and right-to-left, ignoring upper/lowercase differences and any characters outside 'a' to 'z'.
    For example
    palindrome('ABBA')  // true
    palindrome('Abba')  // true
    palindrome('A man, a plan, a canal: Panama!') // true

    You must use the following helper functions (they are provided): */
    const str2chars = str  => [...str];            // convert a string to an array of chars
    const isAlpha   = char => char.match(/[a-z]/); // char is in the alphabet

    // The question title contains implementation hints.

    // Code:
    const palindrome = str => {
        let s1 = str.toLowerCase();
        s1 = str2chars(s1).reduce((acc, curr) => {
            if (isAlpha(curr)) acc.push(curr);
            return acc;
        }, []);

        const s2 = s1.slice().reverse();

        return s1.every((value, index) => value === s2[index]);
    }

    // Test:
    document.writeln(palindrome("Amore, Roma!"));
    document.writeln("<br/><br/>");
    document.writeln(palindrome("Madam, I'm Adam!"));
    document.writeln("<br/><br/>");
    document.writeln(palindrome("Never odd or even."));
    document.writeln("<br/><br/>");
    document.writeln(!palindrome("Amore"));
    document.writeln("<br/><br/>");

    document.writeln("All tests: " + (
        palindrome("Amore, Roma!")
    && palindrome("Madam, I'm Adam!")
    && palindrome("Never odd or even.")
    && ! palindrome("Amore")));

    // palindrome("Amore, Roma!")
    // && palindrome("Madam, I'm Adam!")
    // && palindrome("Never odd or even.")
    // && ! palindrome("Amore")


</script>
</body>
</html>