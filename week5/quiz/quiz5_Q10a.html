<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
</head>
<body>
<script>

    // Assignment: Using 'eval()'
    /* Your user has entered a new business rule on how to calculate this year's bonuses.
    He entered a formula through a web form and it is available through the _string_ variable 'bonusFormula'.
    The formula refers to the employee as 'employee' like in 'employee.bonus = employee.revenue * 0.2'

    Provide a function (or lambda expression) named 'bonusCalculation' that calculates an employee's bonus
    by using the user-provided bonusFormula.
    Do _NOT_ use the "Function" class. */

    //given
    const e = {revenue: 10000, bonus: null};

    // let bonusFormula = "employee.bonus = employee.revenue * 0.2"; // todo: delete after
    let factor_ = 0.2; // todo: delete after
    let bonusFormula = "e.bonus = e.revenue * factor_"; // todo: delete after
    document.writeln("bonusFormula: " + bonusFormula + "<br/>");

    const bonusCalculation = () => eval(bonusFormula);

    document.writeln("bonusCalculation(e): " + bonusCalculation(e) + "<br/>");
    document.writeln("e.bonus: " + e.bonus + "<br/>");
    document.writeln("e.revenue * factor_ : " + e.revenue * factor_ + "<br/>"); // todo: create 'factor_' in function: how?

    // Test - given
    bonusCalculation(e);
    document.writeln(e.bonus === e.revenue * factor_);
    // e.bonus === e.revenue * factor_;

</script>
</body>
</html>